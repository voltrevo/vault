import ./ExpressionAndType.vx;

return func(expression) {
  {exp, type} := ExpressionAndType(expression);

  if (type[0] == 'never') {
    assert type[1]:Kind() != 'null';
    return ['note', type[1]];
  }

  return exp;
};
