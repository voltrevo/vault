import ./Statement.vx;

return func([_, statements, _]) {
  res := [];
  prevMultiline := false;

  for (sLines of statements:map(Statement)) {
    multiline := sLines:Length() > 1u64;

    if (res:Length() > 0u64 && (multiline || prevMultiline)) {
      res ++= [''];
    }

    res ++= sLines;
    prevMultiline = multiline;
  }

  return res;
};
