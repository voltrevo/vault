import p from '@/util/parse.vx';

import PProgram from './parser/Program.vx';
import VProgram from './validator/Program.vx';
import SVProgram from './scopeValidator/Program.vx';

import PExpr from './parser/Expression/Expression.vx';
import VSExpr from './scopeValidator/Expression.vx';

func prog(lines) {
  tree := PProgram(lines);
  return VProgram(tree) ++ SVProgram(tree);
};

func vsExpr(str) => VSExpr(p.Complete(PExpr)([str]));

log.info prog(['']);
log.info prog(['1.b += 1;']);
log.info prog(['a += b;']);

log.info prog(['c := a + b + 1; c = 1;']);

return 'done';
