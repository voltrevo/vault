import p from './parse.vx';

Comma := p.Exact(',');

return func(Item) {
  RawList := p.Sequence([
    p.Many(p.SequenceOne([
      [p.OW],
      Item,
      [p.OW],
      [Comma],
    ])),
    p.Optional(p.SequenceOne([[p.OW], Item])),
    [p.OW],
  ]);

  return p.Transform(RawList, func([vals, lastVals]) => vals ++ lastVals);
};
