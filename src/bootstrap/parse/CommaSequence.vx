import p from './parse.vx';
import ./Whitespace.vx;

OW := p.Optional(Whitespace);
Comma := p.Exact(',');

return func(Item) {
  RawList := p.Sequence([
    p.Many(p.SequenceOne([
      [OW],
      Item,
      [OW],
      [Comma],
    ])),
    p.Optional(p.SequenceOne([[OW], Item])),
    [OW],
  ]);

  return p.Transform(RawList, func([vals, lastVals]) => vals ++ lastVals);
};
